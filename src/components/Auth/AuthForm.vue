<template>
  <v-card class="auth-card pa-3" style="width:29rem">
      
      <v-card-title class="d-flex align-center justify-center py-1">
         <span class="text-2xl font-weight-semibold">–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏
             –∑–∞—è–≤–æ–∫
         </span>
      </v-card-title>
      <v-card-text>
          <v-alert v-if="(error !== '–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω') && (error !== '')" type="error">{{error}}</v-alert>
          <p class="text-2xl font-weight-semibold text--primary mb-2">
            –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å! üëãüèª
          </p>
          <p class="mb-2">
            –ü–æ–∂–∞–ª—É–π—Å—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—Ç—å –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã</p>
        </v-card-text>

        <v-card-text>
            <v-form>
                <v-text-field
                variant="outlined"
                color="secondary"
                label="Email"
                v-model="user.email"
                :rules="[rules.email]"
                required
                placeholder="john@example.com"
                
                class="mb-3"
                ></v-text-field>
                <v-text-field
                
                v-model='user.password'
                color="secondary"
                type="password"
                variant="outlined"
                label="–ü–∞—Ä–æ–ª—å"
                placeholder="¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑¬∑"
                required
                :rules="[rules.required]"
                ></v-text-field>
                <v-btn
                    @click="loginUser"
                    block
                    color="primary"
                    class="mt-6"
                    :disabled="loading"
                    >
                    –í–æ–π—Ç–∏
                </v-btn>
                
            </v-form>
            
        </v-card-text>

  </v-card>
</template>

<script setup>

import {reactive} from '@vue/reactivity'
import { computed } from '@vue/runtime-core'
import { useStore } from 'vuex'
import {rules} from '@/helpers/rulesValidate'

const emit = defineEmits(['login',])

const store = useStore()

const loading = computed(() => {
    return store.getters.isLoading
})

const error = computed(() => {
    return store.getters.error
});

const user = reactive({password:'',email:''})

const loginUser = () => {
    let data = {
        password: user.password,
        email: user.email
    }
    emit('login', data)
}




</script>

<style>

</style>